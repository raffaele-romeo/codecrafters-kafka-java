1. Have a ApiRegistry to have a list of Map<x, NavigableMap>
4. Refactor to have an encoder and Decoder, so you can encapsulte the byte buffer